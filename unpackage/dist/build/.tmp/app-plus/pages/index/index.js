(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"153a":function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("a34a"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,a,i,o,r){try{var u=t[o](r),s=u.value}catch(c){return void n(c)}u.done?e(s):Promise.resolve(s).then(a,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var o=t.apply(e,n);function u(t){r(o,a,i,u,s,"next",t)}function s(t){r(o,a,i,u,s,"throw",t)}u(void 0)})}}var s=function(){return n.e("components/mehaotian-search-revision/mehaotian-search-revision").then(n.bind(null,"6d32"))},c=function(){return n.e("components/uni-swiper-dot/uni-swiper-dot").then(n.bind(null,"b280"))},d=function(){return n.e("components/back-top/back-top").then(n.bind(null,"c33e"))},l=function(){return n.e("components/navTabIndex").then(n.bind(null,"df07"))},g={components:{uniSwiperDot:c,backTop:d,navTab:l,mSearch:s},data:function(){return{currentTab:0,tabTitle:["真龙","牛肉","柴米","油盐","衣服","蔬果","生鲜","芒果","牙膏","饮料"],autoplay:!0,interval:2500,duration:500,backTop:{src:"../../static/back-top/top.png",scrollTop:0},scrollTop:0,currentPage:"index",address:"海韵之友",longitude:"",latitude:"",info:[{content:"内容 A",adImage:"../../static/image/temp/banner_hyyx.png"},{content:"内容 B",adImage:"../../static/image/temp/banner1.png"},{content:"内容 C",adImage:"../../static/image/temp/banner_hyyx.png"}],current:0,mode:"dot",perfectGoodsList:[{id:1,name:"龙眼",defaultSourceImagePath:"../../static/image/temp/goods-demo.png",marketPrice:"263.00"},{id:1,name:"新水果",defaultSourceImagePath:"../../static/image/temp/good-demo.jpg",marketPrice:"250.00"},{id:1,name:"荔枝",defaultSourceImagePath:"../../static/image/temp/good-demo.png",marketPrice:"682.00"},{id:1,name:"牛肉",defaultSourceImagePath:"../../static/image/temp/goods-demo.jpg",marketPrice:"589.00"},{id:1,name:"龙虾",defaultSourceImagePath:"../../static/image/temp/good-demo.jpg",marketPrice:"289.00"}],productList:[],queryData:{pageNo:1,pageSize:10,totalPage:0}}},onLoad:function(){this.init()},methods:{init:function(){this.getLocationInfo(),this.getAdsList(),this.getproductlist(),this.getPerfectGoodsList(this.queryData,!0),this.getAdsList()},changeTab:function(e){this.currentTab=e;var n=this.tabTitle[e];t.navigateTo({url:"/pages/HM-search/HM-search?keyword="+n})},change:function(t){this.current=t.detail.current},getLocationInfo:function(){var e=this;t.getLocation({type:"wgs84",geocode:!0,success:function(t){e.longitude=t.latitude,e.latitude=t.latitude;var n=t.address.street;e.address=n}})},getAdsList:function(){var t=this;this.$api.getAdsList().then(function(e){if(a("log",JSON.stringify(e)," at pages\\index\\index.vue:259"),a("log","data==="+JSON.stringify(e.list)," at pages\\index\\index.vue:260"),a("log",t.$config.imghosturl," at pages\\index\\index.vue:261"),null!=e.list){var n=e.list;n.forEach(function(e){return e.adImage=t.$config.imghosturl+e.adImage}),t.info=n}})},getPerfectGoodsList:function(){var t=u(i.default.mark(function t(e,n){var o,r,u=this;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a("log",JSON.stringify(e)," at pages\\index\\index.vue:291"),t.next=3,this.$api.perfectgoods(e);case 3:if(o=t.sent,a("log",JSON.stringify(o)," at pages\\index\\index.vue:293"),"0000"==o.code){t.next=7;break}return t.abrupt("return");case 7:this.queryData.totalPage=o.total,r=o.list,r.forEach(function(t){return t.defaultSourceImagePath=u.$config.imghosturl+t.defaultSourceImagePath}),this.perfectGoodsList=n?r:this.perfectGoodsList.concat(r);case 11:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),getproductlist:function(){var t=this;this.$api.productlist().then(function(e){if(a("log",JSON.stringify(e)," at pages\\index\\index.vue:310"),null!=e.list){var n=e.list;n.forEach(function(e){return e.imgUrl=t.$config.imghosturl+e.imgUrl}),t.productList=n}})},toGoogType:function(e){t.navigateTo({url:"/pages/goodtype/goodtype?goodsCategoryId="+e+"&lng="+this.longitude+"&lat="+this.latitude+"&nameKey=",animationType:"pop-in",animationDuration:200})},toGoodsDetail:function(e){t.navigateTo({url:"/pages/gooddetail/gooddetail?goodId="+e})},toproductList:function(e,n){var i=n.split("=");a("log",JSON.stringify("arry==="+i)," at pages\\index\\index.vue:336"),this.$api.getZhuantDetail({pid:i[1]}).then(function(e){if(a("log",JSON.stringify(e)," at pages\\index\\index.vue:339"),null!=e.zhuanti){var n=e.zhuanti;t.navigateTo({url:"/pages/productlist/productlist?pid="+n.id+"&themeType="+n.themeType})}})},gotsearch:function(){t.navigateTo({url:"/pages/HM-search/HM-search",animationType:"pop-in",animationDuration:200})},firstPage:function(){t.redirectTo({url:"/pages/index/index"})},shoplist:function(){t.redirectTo({url:"/pages/shoplist/shoplist"})},toCart:function(){t.redirectTo({url:"/pages/carts/carts"})},toMyCenter:function(){t.redirectTo({url:"/pages/mycenter/mycenter"})}},onPageScroll:function(t){this.backTop.scrollTop=t.scrollTop},onPullDownRefresh:function(){this.queryData.pageNo=1,this.queryData.totalPage=0,this.getPerfectGoodsList(this.queryData,!0),t.stopPullDownRefresh()},onReachBottom:function(){return!(this.queryData.pageNo>this.queryData.totalPage)&&(this.queryData.pageNo=this.queryData.pageNo+1,a("log","pageNo==="+this.queryData.pageNo," at pages\\index\\index.vue:393"),a("log","totalPage==="+this.queryData.totalPage," at pages\\index\\index.vue:394"),!(this.queryData.pageNo>this.queryData.totalPage)&&void this.getPerfectGoodsList(this.queryData,!1))}};e.default=g}).call(this,n("6e42")["default"],n("0de9")["default"])},"2cb4":function(t,e,n){"use strict";n.r(e);var a=n("7704"),i=n("9be4");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("9d87");var r,u=n("f0c5"),s=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=s.exports},7704:function(t,e,n){"use strict";var a={"uni-swiper-dot":()=>n.e("components/uni-swiper-dot/uni-swiper-dot").then(n.bind(null,"b280"))},i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a})},"9be4":function(t,e,n){"use strict";n.r(e);var a=n("153a"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},"9d87":function(t,e,n){"use strict";var a=n("a4a2"),i=n.n(a);i.a},a4a2:function(t,e,n){},aac2:function(t,e,n){"use strict";(function(t){n("7656"),n("921b");a(n("66fd"));var e=a(n("2cb4"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["aac2","common/runtime","common/vendor"]]]);